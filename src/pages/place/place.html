<!--
  Generated template for the PlacePage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation. 
-->
<ion-header >
  <ion-navbar hideBackButton="true">
	  <ion-title mode='ios'><img src="assets/imgs/logosocex.png" class="img-responsive" /></ion-title>
  </ion-navbar>
  <ion-toolbar no-border-top>
    <ion-searchbar color="primary"
                   [(ngModel)]="queryText"
                   (ionInput)="updateLocales()"
                   placeholder="Buscar">
    </ion-searchbar>
  </ion-toolbar>
  <!-- Segment buttons with icons -->
  <ion-segment [(ngModel)]="OnMap" color="secondary">
    <ion-segment-button value='0' class="font_segment">
      Mapa
    </ion-segment-button>
    <ion-segment-button value='1' class="font_segment">
      Lista
    </ion-segment-button>
  </ion-segment>
</ion-header>

<ion-content id="localesList">
  <div id="map_canvas" [hidden]="OnMap == 1" #mapCanvas  ion-fixed></div>
  <div  [ngClass]="{'OnMapToolbar': OnMap == '0', 'NoMapToolbar': OnMap == '1'}" >   
    <ion-list>
        <ion-item *ngFor="let l of allLocales | filterLocales: filter as filteredLocales">
          <ion-thumbnail (click)="LocateInMap(l)" item-start>
            <img class="localLogo" src="{{l.logo}}">
          </ion-thumbnail>
          <button ion-button class="boton33" clear (click)="Points(l)">{{l.pesos | currency:'$':'symbol':'1.0-0'}}</button>
          <button ion-button class="boton33" (click)="Invite(l)">invitar</button>
          <button ion-button class="boton33" (click)="LocalDetails(l)"clear>
            {{l.acumula_user}} + {{l.acumula_amigo}}
          </button>
        </ion-item>
    </ion-list>
  </div>
</ion-content>
